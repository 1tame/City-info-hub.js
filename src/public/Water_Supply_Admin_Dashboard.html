<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

    <title>Water Supply Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="sessionManagement.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #004080;
            margin-top: 20px;
        }

        nav {
            background-color: #004080;
            padding: 10px;
            text-align: center;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            display: inline;
            margin-right: 20px;
        }

        nav ul li:last-child {
            margin-right: 0;
        }

        nav ul li a {
            text-decoration: none;
            color: white;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: #cce7ff;
        }

        .content {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 20px;
        }

        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 10px;
            padding: 20px;
            width: 300px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .card img {
            width: 100%;
            border-radius: 10px;
        }

        .card h2 {
            color: #004080;
            margin-top: 10px;
            font-size: 1.2em;
        }

        .card p {
            color: #666;
            margin-top: 10px;
        }

        .placeholder {
            color: #999;
            font-style: italic;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>Water Supply Admin Dashboard</h1>
   <!-- <nav>
    <ul>
        <li><a href="insert_water_supply_info.html">Insert Water Supply Information</a></li>
        <li><a href="/viewWaterSupplyInfo">View Water Supply Information</a></li>
        <li><a href="IssueReporting.html">Report an Issue</a></li>
        <li><a href="AdminLogin.html">Sign Out</a></li>
    </ul>
    </nav>-->

    <div class="content">
        <!-- Card 1: Insert Water supply Information -->
        <a href="insert_water_supply_info.html">  
            <div class="card">
                <i class="fas fa-water fa-2x"></i>
                <h2>Insert Water Supply Information</h2>
                <p class="placeholder">Add new details to the system. Ensure all necessary information is included.</p>
            </div>
        </a>
    
        <!-- Card 3: Report an Issue -->
        <a href="IssueReporting.html">
            <div class="card">
                <i class="fas fa-exclamation-triangle fa-2x"></i>
                <h2>Report an Issue</h2>
                <p class="placeholder">Log any problems or issues encountered during event management. Ensure timely resolution.</p>
            </div>
        </a>
    
        <!-- Card 4: View Feedback -->
        <a href="view-feedback.html">
            <div class="card">
                <i class="fas fa-comments fa-2x"></i>
                <h2>View Feedback</h2>
                <p class="placeholder">View feedbacks for the report you submitted.</p>
            </div>
        </a>
    
        <!-- Card 5: Manage Posts -->
        <a href="managePost.html" data-sector="Water supply">
            <div class="card">
                <i class="fas fa-edit fa-2x"></i>
                <h2>Manage Posts</h2>
                <p class="placeholder">Update and delete posts.</p>
            </div>
        </a>
    
        <!-- Card 6: View Count Report -->
        <a href="view-count-report.html" data-sector="Water supply">
            <div class="card">
                <i class="fas fa-chart-bar fa-2x"></i>
                <h2>View Count Report</h2>
                <p class="placeholder">View how many views your post got.</p>
            </div>
        </a>
    
        <!-- Card 7: Manage Personal Info -->
        <a href="managePersonalInfo.html" data-sector="Water supply">
            <div class="card">
                <i class="fas fa-user-cog fa-2x"></i>
                <h2>Manage Personal Info</h2>
                <p class="placeholder">Manage your information.</p>
            </div>
        </a>
    
        <!-- Card 8: Sign Out -->
        <a href="AdminLogin.html">
            <div class="card">
                <i class="fas fa-sign-out-alt fa-2x"></i>
                <h2>Sign Out</h2>
                <p class="placeholder">Securely sign out from the admin dashboard. Remember to save any work before logging out.</p>
            </div>
        </a>
    </div>
    <script>
       // Call this in the dashboard pages (like sysAdminHomePage.html) to validate the session
document.addEventListener("DOMContentLoaded", () => {
  if (!checkSessionTimeout()) {
      window.location.href = 'AdminLogin.html'; // Redirect to login if session is invalid
  }
});

window.addEventListener('pageshow', function(event) {
  if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
    // Force a reload when navigating back to the page
    window.location.reload();
  }
});

window.onload = function() {
    if (!localStorage.getItem("authToken")) { 
      window.location.href = "AdminLogin.html"; // Redirect to login
    }
  };

  function logout() {
        localStorage.removeItem("authToken");

        // Optionally, clear any other user-specific data from localStorage
        localStorage.removeItem("admin");
        localStorage.clear();

        // Redirect to login page after successful logout
        window.location.href = "AdminLogin.html";
      }
    </script>
</body>
</html>

