<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

    <title>Festival and Event Admin Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"> 
    <script src="sessionManagement.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #004080;
            margin-top: 20px;
        }

        nav {
            background-color: #004080;
            padding: 10px;
            text-align: center;
        }

        nav ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        nav ul li {
            display: inline;
            margin-right: 20px;
        }

        nav ul li:last-child {
            margin-right: 0;
        }

        nav ul li a {
            text-decoration: none;
            color: white;
            font-weight: bold;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            color: #cce7ff;
        }

        .content {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            padding: 20px;
        }

        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin: 10px;
            padding: 20px;
            width: 300px;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .card img {
            width: 100%;
            border-radius: 10px;
        }

        .card h2 {
            color: #004080;
            margin-top: 10px;
            font-size: 1.2em;
        }

        .card p {
            color: #666;
            margin-top: 10px;
        }

        .placeholder {
            color: #999;
            font-style: italic;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <h1>Festival and Event Admin Dashboard</h1>
   <!-- <nav>
        <ul>
            <li><a href="insertEventFestivalInfo.html">Insert Event Festival Information</a></li>
            <li><a href="/viewEventFestivalInfo">View Event Festival Information</a></li>
            <li><a href="IssueReporting.html">Report an Issue</a></li>
            <li><a href="AdminLogin.html">Sign Out</a></li>
        </ul>
    </nav>-->

    <div class="content">
        <!-- Card 1: Insert Event Festival Information -->
        <a href="insertEventFestivalInfo.html">
          <div class="card">
            <i class="fas fa-calendar-plus fa-2x"></i> <!— Calendar Plus Icon -->
            <h2>Insert Event Festival Information</h2>
            <p class="placeholder">Add new event or festival details...</p>
          </div>
        </a>
      
        <!-- Card 3: Report an Issue -->
        <a href="IssueReporting.html">
          <div class="card">
            <i class="fas fa-exclamation-triangle fa-2x"></i> <!— Exclamation Triangle Icon -->
            <h2>Report an Issue</h2>
            <p class="placeholder">Log any problems or issues...</p>
          </div>
        </a>
      
        <!-- Card 4: View Feedback -->
        <a href="view-feedback.html">
          <div class="card">
            <i class="fas fa-comments fa-2x"></i> <!— Comments Icon -->
            <h2>View Feedback</h2>
            <p class="placeholder">View Feedbacks for the Report...</p>
          </div>
        </a>
      
        <!-- Card 5: Manage Post -->
        <a href="mangePost.html" data-sector="Event&festival-info">
          <div class="card">
            <i class="fas fa-edit fa-2x"></i> <!— Edit Icon -->
            <h2>Manage posts</h2>
            <p class="placeholder">Update and delete posts.</p>
          </div>
        </a>
      
        <!-- Card 6: View Count Report -->
        <a href="view-count-report.html" data-sector="Event&festival-info">
          <div class="card">
            <i class="fas fa-chart-bar fa-2x"></i> <!— Chart Bar Icon -->
            <h2>View Count Report</h2>
            <p class="placeholder">View how may views...</p> 
          </div>
        </a>
      
        <!-- Card 7: Manage Personal Info -->
        <a href="managePersonalInfo.html" data-sector="Event&festival-info">
          <div class="card">
            <i class="fas fa-user-cog fa-2x"></i> <!— User Cog Icon -->
            <h2>Manage Personal Info</h2>
            <p class="placeholder">Manage your Information</p>
          </div>
        </a>
      
        <!-- Card 8: Sign Out -->
        <a href="javascript:void(0);" onclick="logout()">
          <div class="card">
            <i class="fas fa-sign-out-alt fa-2x"></i> <!— Sign Out Icon -->
            <h2>Sign Out</h2>
            <p class="placeholder">Securely sign out...</p>
          </div>
        </a>
      </div>
      <script>
       // Call this in the dashboard pages (like sysAdminHomePage.html) to validate the session
document.addEventListener("DOMContentLoaded", () => {
  if (!checkSessionTimeout()) {
      window.location.href = 'AdminLogin.html'; // Redirect to login if session is invalid
  }
});

window.addEventListener('pageshow', function(event) {
  if (event.persisted || (window.performance && window.performance.navigation.type === 2)) {
    // Force a reload when navigating back to the page
    window.location.reload();
  }
});
window.onload = function() {
    if (!localStorage.getItem("authToken")) { 
      window.location.href = "AdminLogin.html"; // Redirect to login
    }
  };

  function logout() {
        localStorage.removeItem("authToken");

        // Optionally, clear any other user-specific data from localStorage
        localStorage.removeItem("admin");
        localStorage.clear();

        // Redirect to login page after successful logout
        window.location.href = "AdminLogin.html";
      }

      </script>
</body>
</html>
